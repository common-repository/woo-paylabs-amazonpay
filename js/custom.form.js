jQuery(function(){null!==document.getElementById("woocommerce_wpl_paylabs_amazonpay_app_key")&&(40!=jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").val().length&&jQuery("#woocommerce_wpl_paylabs_amazonpay_subscription,#woocommerce_wpl_paylabs_amazonpay_refund,#woocommerce_wpl_paylabs_amazonpay_woo_product,#woocommerce_wpl_paylabs_amazonpay_ord_status").prop("checked",!1));jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").change(function(){jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!1).html("Validate Key")}),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").click(function(){jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!0).html("Validating...");var a=jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").val();if(40==a.length){var o={action:"auth_req",app_key:a};jQuery.post(ajaxurl,o,function(a){var o=parseInt(a);if(Number.isInteger(o))if(o<1){var e='<div class="error notice"><p>API key is not valid or Expired please try again with valid key</p></div>';jQuery("#key_info").html(e),jQuery("#description_key_info").show(),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!1).html("Validate Key"),jQuery("#woocommerce_wpl_paylabs_amazonpay_subscription,#woocommerce_wpl_paylabs_amazonpay_refund,#woocommerce_wpl_paylabs_amazonpay_woo_product,#woocommerce_wpl_paylabs_amazonpay_ord_status").prop("checked",!1)}else{e='<div class="updated notice"><p>Awesome! Your API Key updated for '+a+" day(s).</p></div>";jQuery("#description_key_info").hide(),jQuery("#key_info").html(e),jQuery("#woocommerce_wpl_paylabs_amazonpay_edit_key,#woocommerce_wpl_paylabs_amazonpay_delete_key").show(),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").html("&#9989; Valid"),jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").prop("readonly",!0),jQuery("#woocommerce_wpl_paylabs_amazonpay_subscription,#woocommerce_wpl_paylabs_amazonpay_refund,#woocommerce_wpl_paylabs_amazonpay_woo_product,#woocommerce_wpl_paylabs_amazonpay_ord_status").prop("checked",!0)}else{e='<div class="error notice"><p>'+a+"</p></div>";jQuery("#key_info").html(e),jQuery("#description_key_info").show(),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!1).html("Validate Key")}})}else{jQuery("#key_info").html('<div class="error notice"><p>Please enter valid API Key</p></div>'),jQuery("#description_key_info").show(),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!1).html("Validate Key")}}),jQuery("#woocommerce_wpl_paylabs_amazonpay_edit_key").click(function(){jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").prop("readonly",!1),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!1).html("Validate Key")}),jQuery("#woocommerce_wpl_paylabs_amazonpay_delete_key").click(function(){var a=jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").val();if(1==confirm("Are you sure you want to Delete API key ?")&&40==a.length){var o={action:"auth_del",app_key:a};jQuery.post(ajaxurl,o,function(a){1==a&&(jQuery("#woocommerce_wpl_paylabs_amazonpay_app_key").prop("readonly",!1).val(""),jQuery("#woocommerce_wpl_paylabs_amazonpay_edit_key,#woocommerce_wpl_paylabs_amazonpay_delete_key").hide(),jQuery("#woocommerce_wpl_paylabs_amazonpay_valid_button").prop("disabled",!1).html("Validate Key"),jQuery("#woocommerce_wpl_paylabs_amazonpay_subscription,#woocommerce_wpl_paylabs_amazonpay_refund,#woocommerce_wpl_paylabs_amazonpay_woo_product,#woocommerce_wpl_paylabs_amazonpay_ord_status").prop("checked",!1))})}}),jQuery("#_ps_subscription_chkbox").change(function(){var a=jQuery("#_ps_subscription_chkbox:checked").size();jQuery(".show_if_ps_subscription_chkbox").hide(),jQuery(".hide_if_ps_subscription_chkbox").hide(),a&&jQuery(".hide_if_ps_subscription_chkbox").hide(),a&&jQuery(".show_if_ps_subscription_chkbox").show()}),jQuery("#_ps_subscription_chkbox").trigger("change")});